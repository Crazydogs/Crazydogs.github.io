---
layout: post
title:  "redux 与单元测试"
date:   2016-11-20 22:00:00
category: coding
---

之前在 react 与 vue 之间，我总是更倾向喜欢 vue 一些。都是入侵性很强的框架，
但相对来讲，vue 显得更简单一些，起码个人感觉上比 react 更容易上手。react
里面的概念有点多，多一层抽象就多一层学习成本，如果团队的人员不是那么稳定，
可能维护性就会大打折扣。

但是最近的经历让我有些改观。

之前一直想着，要试试给前端项目写一套完整的单元测试，单纯页面的功能性测试，
已经用 testcafe 可以解决了，虽然慢一点但是毕竟功能测试跑的频率也不高，
并不是什么大问题。而 js 代码的单元测试一直让我很头疼，一个是之前的老代码，
有些老的项目并没有使用任何模块化的机制，也没有明确的边界，基本上属于不可测的状态。
另一个就是写测试的时候，还是要写很多的 mock，有些项目文档没做好，写 mock
也是很费劲的一件事情，工作量远远超出之前的预期。

直到这几天在改一个项目的代码，前端用的是 react + redux，突然发现这样的单元测试，
简直太简单了，虽然也没留下文档，但是基本上只要过一遍 reducer，就可以开始写测试了。


